# 장고 뷰의 기본 개념


## **1. 장고 개념 키워드**
1. model
  장고의 모델 == 워크시트
  데이터 베이스의 인터페이스
  비지니스 모델이 저장됨

2. view
  http request요청을 처리하여 http response를 리턴해 주는 역할
  reteurn render(request, html, {elements for html})

3. template
  복잡한 문자열의 조합하여 일반적으로 html을 만드는 것 대신 장고 탬플릿을 이용해서 를 더 간단하게 html을 만들어 준다
  View에서 전달 받은 elements를 바탕으로 view(html)을 만들어 주는 것

4. admin
  심플한 데이터베이스 레코드(데이터) 관리 UI
  장고에 미리 만들어진 페이지

5. logging
  로깅

6. form
  유저가 입력한 정보를 서버에 전송해주는 formm 페이지
  입력된 정보가 DB에 적용될 수도 있다.

// 이제부터 이 키워드들을 이용해서 장고의 기본 개념을 설명하고자 한다.



---
우선 장고가 어떻게 유저가 요청하는 정보를 어떻게 전달하는지 알아보자

## 장고의 기본 구조

![django_1](./img/장고 기본 구조.png)

---
  1. 클라이언트가 url 입력 
  
  2. 서버가 받아서 URL에 해당하는 올바른 뷰로 전달
    프로젝트/urls.py의 설정 중, url conf(url을 함수와 연결시켜주는 기능)을 통해 뷰와 연결됨
    
  3. 장고 모델을 통해 데이터 베이스와 프레임워크가 응답을 주고 받음
  
  4. 장고 모델이 뷰로 데이터를 줌
  
  5. DB로 부터 얻은 데이터와 뷰와 연결된 html(템플릿)을 바탕으로. 완성된 html을 클라이언트에게 리턴해줌

---

이제 장고가 어떻게 클라이언트의 요청을 처리하는지 봤으니 장고가 어떻게 앱을 관리하는지 살펴보자
## Preivew 새로운 장고 앱을 생성할 때 해야 하는 작업
  1. 앱생성
  2. 앱/urls.py 파일 생성, url 패턴 적용
  3. 프로젝트/urls.py에 include를 통해 site의 url중, shop의 url을 앱/urls.py로 넘긴다
  4. 프로젝트/settings.py안의 INSTALLED_APPS에 새로운 앱을 등록한다
  
이제부터 나열된 것들이 무엇인지 천천히 함께 알아보자 

## 장고 앱?
  장고 앱이란? : 목적에 맞게 만들어진 장고 앱
  장고 앱 만들기 : "python manage.py startapp 이름" 을 통해 "이름"에 해당하는 빈 장고앱을 만들어 준다.
  장고 앱 분리의 필요성 :  앱의 재사용을 위해. (만약 블로그를 장고앱의 형태로 만들어 둔다면 블로그앱을 필요시에 재사용 할 수 있다)
	따라서 기능의 재사용성을 기준으로 장고 앱을 구성해야 한다

  장고 앱의 주의점
    하나의 앱 이름만 사용해야 한다. 
    장고 앱을 사용하기 위해선 settings.py에 이 장고앱을 등록시켜야 한다 (installed apps)
	  (왜 이와 같은 작업을 거쳐야 하는가? -> 본래 하나하나 등록해야 할 앱의 모델, 템플릿, static등이 이 작업을 거치면 자동으로 등록되므로, 반드시 이를 등록시켜줘야 한다)
    앱은 고유한 models를 갖는다 
      -> 하나의 파일에 앱의 모든 정보를 때려 박기엔 너무 많다면 models.py를 나눠 관리할 수 있다.
      -> how? 
	    하나의 models.py 대신 다양한 model을 가진 models폴더로 모델을 구축
         (예시 : items.py, review.py + (__init__.py [모든 모델을 import해서 하나로 만들어 주는 파일])로 구성하여 하나의 models를 이용하는 것과 같은 효과를 준다)
	        // 패키지 개념, 나중에 앱이 복잡해질때 폴더(패키지)로서 모델을 구축하자. 

---
이렇게 생성된 장고 앱에 url이 들어온다면 url에 해당하는 view가 호출된다고 했는데, 장고는 어떤 view가 연결됐는지 어떻게 알까?
바로 ** url dispatcher ** 을 통해 url에 해당하는 view를 찾는다

## 마무리
이렇게 장고의 기본적인 키워드와 어떤 구조를 갖는지 알아봤다.
다음부터 원하는 기능을 어떻게 호출할지, 또 이렇게 호출된 객체는 어떤 구조를 갖는지 알아보자. 

